const a1_0x37e9=['hash','done','push','response','then','cacheError','storeRequests','store','__awaiter','apply','retrieve','cache-miss','api','all','status','map','value','note','storage','startRun','messages','Nx\x20Cloud:\x20Cache\x20miss\x20','filter','output','hashUrls','indexOf','extractErrorMessage','../../../utilities/environment','@nrwl/workspace/src/utilities/output','forEach','remote-cache-hit','VERBOSE_LOGGING','put','runContext','.\x20Status\x20404.','fileStorage','statuses','CloudRemoteCache','.\x20Read\x20only\x20token\x20is\x20used.','get','requests','__esModule','NX_CLOUD_DISTRIBUTED_EXECUTION_ID','waitForStoreRequestsToComplete','axiosException'];(function(_0x5180da,_0x37e991){const _0x460c45=function(_0x2d53b0){while(--_0x2d53b0){_0x5180da['push'](_0x5180da['shift']());}};_0x460c45(++_0x37e991);}(a1_0x37e9,0x1ba));const a1_0x460c=function(_0x5180da,_0x37e991){_0x5180da=_0x5180da-0x0;let _0x460c45=a1_0x37e9[_0x5180da];return _0x460c45;};'use strict';var __awaiter=this&&this[a1_0x460c('0x10')]||function(_0x5bccd9,_0x13057a,_0x2e10ba,_0x294c28){function _0x35bb3f(_0x246fb3){return _0x246fb3 instanceof _0x2e10ba?_0x246fb3:new _0x2e10ba(function(_0x11b652){_0x11b652(_0x246fb3);});}return new(_0x2e10ba||(_0x2e10ba=Promise))(function(_0x11da1e,_0x568aff){function _0x1552d5(_0x4c85fa){try{_0x284f08(_0x294c28['next'](_0x4c85fa));}catch(_0x40a936){_0x568aff(_0x40a936);}}function _0x2bd4ae(_0x1a4eb6){try{_0x284f08(_0x294c28['throw'](_0x1a4eb6));}catch(_0x48f402){_0x568aff(_0x48f402);}}function _0x284f08(_0x41b261){_0x41b261[a1_0x460c('0x9')]?_0x11da1e(_0x41b261[a1_0x460c('0x18')]):_0x35bb3f(_0x41b261[a1_0x460c('0x18')])[a1_0x460c('0xc')](_0x1552d5,_0x2bd4ae);}_0x284f08((_0x294c28=_0x294c28[a1_0x460c('0x11')](_0x5bccd9,_0x13057a||[]))['next']());});};Object['defineProperty'](exports,a1_0x460c('0x4'),{'value':!![]});exports[a1_0x460c('0x0')]=void 0x0;const output_1=require(a1_0x460c('0x24'));const environment_1=require(a1_0x460c('0x23'));class CloudRemoteCache{constructor(_0x358d6d,_0x3fc92a,_0x438e27,_0x2adee9){this[a1_0x460c('0x1c')]=_0x358d6d;this[a1_0x460c('0x14')]=_0x3fc92a;this[a1_0x460c('0x29')]=_0x438e27;this[a1_0x460c('0x2b')]=_0x2adee9;this[a1_0x460c('0xe')]=[];}[a1_0x460c('0x12')](_0x51b844,_0x48b72c){return __awaiter(this,void 0x0,void 0x0,function*(){if(this['messages'][a1_0x460c('0xd')])return![];const _0x3bff8f=yield this[a1_0x460c('0x20')](_0x51b844);if(!_0x3bff8f||!_0x3bff8f[a1_0x460c('0x2')]){if(environment_1[a1_0x460c('0x27')]){output_1['output'][a1_0x460c('0x19')]({'title':a1_0x460c('0x1d')+_0x51b844+'.'});}this['runContext'][a1_0x460c('0x2c')][_0x51b844]=a1_0x460c('0x13');return![];}try{yield this[a1_0x460c('0x2b')][a1_0x460c('0x12')](_0x51b844,_0x3bff8f[a1_0x460c('0x2')],_0x48b72c);this[a1_0x460c('0x29')]['statuses'][_0x51b844]=a1_0x460c('0x26');return!![];}catch(_0x139f93){const _0x409bc1=_0x139f93[a1_0x460c('0x7')];if(_0x409bc1['response']&&_0x409bc1[a1_0x460c('0xb')][a1_0x460c('0x16')]===0x194){if(environment_1['VERBOSE_LOGGING']){output_1[a1_0x460c('0x1f')][a1_0x460c('0x19')]({'title':a1_0x460c('0x1d')+_0x51b844+a1_0x460c('0x2a')});}}else{this['messages']['cacheError']=this[a1_0x460c('0x1c')]['extractErrorMessage'](_0x409bc1,a1_0x460c('0x1a'));}this['runContext'][a1_0x460c('0x2c')][_0x51b844]=a1_0x460c('0x13');return![];}});}['store'](_0x1173be,_0x504cf9){return __awaiter(this,void 0x0,void 0x0,function*(){if(this['messages'][a1_0x460c('0xd')])return![];const _0x46b3ec=Promise['resolve']()['then'](()=>__awaiter(this,void 0x0,void 0x0,function*(){const _0x4810e7=yield this[a1_0x460c('0x20')](_0x1173be);if(!_0x4810e7)return![];if(!_0x4810e7[a1_0x460c('0x28')]){if(environment_1[a1_0x460c('0x27')]){output_1[a1_0x460c('0x1f')][a1_0x460c('0x19')]({'title':'Nx\x20Cloud:\x20Skipping\x20storing\x20'+_0x1173be+a1_0x460c('0x1')});}return!![];}try{yield this[a1_0x460c('0x2b')][a1_0x460c('0xf')](_0x1173be,_0x4810e7[a1_0x460c('0x28')],_0x504cf9);return!![];}catch(_0x3d65e2){const _0x41d88e=_0x3d65e2[a1_0x460c('0x7')];this[a1_0x460c('0x1c')]['cacheError']=this[a1_0x460c('0x1c')][a1_0x460c('0x22')](_0x41d88e,a1_0x460c('0x1a'));return![];}}));this['storeRequests'][a1_0x460c('0xa')](_0x46b3ec);return _0x46b3ec;});}['hashUrls'](_0x14a715){return __awaiter(this,void 0x0,void 0x0,function*(){if(this[a1_0x460c('0x29')][a1_0x460c('0x3')][_0x14a715]){return(yield this[a1_0x460c('0x29')][a1_0x460c('0x3')][_0x14a715])[_0x14a715];}else{const _0x2763d0=this[a1_0x460c('0x29')]['scheduledTasks'][a1_0x460c('0x1e')](_0x5878d7=>!this['runContext'][a1_0x460c('0x3')][_0x5878d7[a1_0x460c('0x8')]])[a1_0x460c('0x17')](_0x5910c8=>_0x5910c8[a1_0x460c('0x8')]);if(_0x2763d0[a1_0x460c('0x21')](_0x14a715)===-0x1){_0x2763d0['push'](_0x14a715);}const _0x5bee7e=this[a1_0x460c('0x14')][a1_0x460c('0x1b')](environment_1[a1_0x460c('0x5')],_0x2763d0);_0x2763d0[a1_0x460c('0x25')](_0x5da128=>{this['runContext'][a1_0x460c('0x3')][_0x5da128]=_0x5bee7e;});return(yield _0x5bee7e)[_0x14a715];}});}[a1_0x460c('0x6')](){return Promise[a1_0x460c('0x15')](this[a1_0x460c('0xe')])[a1_0x460c('0xc')](_0x5190fb=>_0x5190fb['reduce']((_0x53472a,_0x306151)=>_0x53472a&&_0x306151,!![]));}}exports[a1_0x460c('0x0')]=CloudRemoteCache;